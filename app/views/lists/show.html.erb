<div class="banner mb-4" style="position: relative; background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url(<%= cl_image_path @list.photo.key %>);">
  <p class="btn btn-warning" style="opacity: 1; position: absolute; top: 10px; right: 10px"><%= @list.movies.count %> movies</p>
  <div class="container">
    <h1><%= @list.name %></h1>
  </div>
</div>

<div class="container">

  <div class="row justify-content-center mb-4">
    <div class="col-12">
      <h2>My movies</h2>
    </div>
  </div>

  <% if @list.movies == [] %>

    <p>Your list is empty. Wanna start adding films into your list?</p>

  <% else %>

  <div class="row">

    <% @list.movies.each do |movie| %>
      <div class="col-3">
        <div class="card-trip">
          <%= image_tag movie.poster_url %>

          <div class="card-trip-infos d-flex flex-column">

            <div class="d-flex mb-2 justify-content-between align-items-center">
              <h2><%= movie.title %></h2>
              <div><%= movie.rating %> <i class="fas fa-star"></i></div>
            </div>

            <div>
              <p><%= movie.overview %></p>
            </div>
          </div>

          <div class="card-footer d-flex justify-content-between align-items-center">
            <p><i class="fas fa-quote-left"></i> <%= movie.find_bookmark(@list).comment %></p>
            <%= link_to "Delete", bookmark_path(movie.find_bookmark(@list)),
                                  method: :delete,
                                  data: { confirm: 'Are your sure?'}, class: "btn btn-danger"
            %>
          </div>

        </div>
      </div>
    <% end %>

  </div>

  <% end %>

  <div class="card mt-5 p-5">
  <h2>Add a movie in your list</h2>
    <div class="card-body">
        <%= render "bookmarks/form", list: @list, bookmark: Bookmark.new %>
    </div>
  </div>

</div>
